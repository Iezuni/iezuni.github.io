(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["minesweeper"],{"20f6":function(t,i,e){},6062:function(t,i,e){"use strict";var n=e("6d61"),c=e("6566");t.exports=n("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),c)},"887e":function(t,i,e){"use strict";var n=e("b6ef"),c=e.n(n);c.a},b38e:function(t,i,e){"use strict";var n=e("b428"),c=e.n(n);c.a},b428:function(t,i,e){},b6ef:function(t,i,e){},f87c:function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-container",{staticClass:"grey lighten-5"},[e("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6",md:"3"}},[e("v-text-field",{attrs:{label:"宽度"},model:{value:t.width,callback:function(i){t.width=i},expression:"width"}}),e("v-spacer"),e("v-text-field",{attrs:{label:"高度"},model:{value:t.height,callback:function(i){t.height=i},expression:"height"}}),e("v-text-field",{attrs:{label:"雷数"},model:{value:t.mineNum,callback:function(i){t.mineNum=i},expression:"mineNum"}}),e("v-btn",{on:{click:t.newGame}},[t._v(" 开始")])],1),e("br"),e("br"),e("v-col",[t._l(t.returnNumArr(t.game.height),(function(i){return e("v-col",{key:i},t._l(t.returnNumArr(t.game.width),(function(n){return e("mine-block",{key:n+i,attrs:{x:i,y:n,ingame:t.gameStatus},on:{clickBlock:t.clickBlock}})})),1)})),e("br"),e("br"),e("br"),e("br"),e("v-col",[t._v("用js写的扫雷 挺菜的 也就图一乐 之后应该会改进")])],2)],1)},c=[],s=(e("99af"),function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("span",{staticClass:"mineBlock",class:(t.clicked,t.styleClass),domProps:{innerHTML:t._s(t.num)},on:{click:function(i){return t.clickBlock(t.x,t.y)},contextmenu:t.leftClick}})}),a=[],r=(e("a9e3"),e("8bbf")),o=e.n(r),l=new o.a,h={name:"MineBlock",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},ingame:{type:Boolean,required:!0},mine:{type:Boolean},blockMsg:{type:Object}},data:function(){return{clicked:!1,isMine:!1,isFalg:!1,num:"&nbsp;"}},computed:{styleClass:function(){return this.isMine?"is-mine":this.isFalg?"flag":this.clicked?"clicked "+(this.num>0?"mine-"+this.num:"mine-"):"unclick"}},methods:{clickBlock:function(){!this.ingame||this.isFalg||this.clicked||(this.$emit("clickBlock",this.x,this.y),this.clicked=!0)},leftClick:function(t){t.preventDefault(),this.clicked||(this.isFalg=!this.isFalg)},returnblockMsg:function(t){if(this.clicked)return 0;console.log("you call ",this.x,this.y),"boom"==t.msg?(this.isMine=!0,this.num="*"):"number"==typeof t.msg?0!=t.msg&&(this.num=t.msg):"win"==t.msg&&(this.num=t.msg),l.$off("returnBlockMsg".concat(this.x,"-").concat(this.y))},clickMe:function(){if(this.clicked)return 0;this.clickBlock(),l.$off("clickBlock".concat(this.x,"-").concat(this.y))}},mounted:function(){var t=this;l.$on("returnBlockMsg".concat(this.x,"-").concat(this.y),this.returnblockMsg),l.$on("clickBlock".concat(this.x,"-").concat(this.y),this.clickMe),l.$on("restart",(function(){l.$on("returnBlockMsg".concat(t.x,"-").concat(t.y),t.returnblockMsg),l.$on("clickBlock".concat(t.x,"-").concat(t.y),t.clickMe),t.clicked=!1,t.isMine=!1,t.isFalg=!1,t.num="&nbsp;"}))}},u=h,m=(e("b38e"),e("2877")),f=Object(m["a"])(u,s,a,!1,null,"2fafa060",null),d=f.exports,k=e("75ba"),g=(e("cb29"),e("d3b7"),e("6062"),e("3ca3"),e("ddb0"),e("b85c")),v=e("d4ec"),p=e("bee2"),b=function(){function t(i,e,n){if(Object(v["a"])(this,t),this.mineMap=[[0]],this.mineNum=0,this.height=0,this.width=0,this.gameOver=!0,this.leftBlock=0,this.clickedBlock=new Set,!(i*e<=n||i<0||e<0||n<0)){this.mineNum=n,this.height=i,this.width=e,this.gameOver=!1,this.mineMap=[],this.clickedBlock=new Set,this.leftBlock=0;for(var c=n,s=i;s>0;s--){for(var a=Math.round(c/s),r=c>e?e:c,o=this.random(a,r),l=Array(e).fill(0),h=0;h<o;h++)l[h]=1,c--;l=this.shuffle(l),this.mineMap.push(l)}this.mineMap=this.shuffle(this.mineMap)}}return Object(p["a"])(t,[{key:"clickBlock",value:function(t,i){return this.clickedBlock.has("".concat(t,"-").concat(i))||this.clickedBlock.add("".concat(t,"-").concat(i)),this.gameOver?{x:t,y:i,msg:"gameOver"}:this.mineMap[t][i]?(this.gameOver=!0,{x:t,y:i,msg:"boom"}):this.clickedBlock.size==this.height*this.width-this.mineNum?(this.gameOver=!0,{x:t,y:i,msg:"win"}):(this.leftBlock=this.height*this.width-this.mineNum-this.clickedBlock.size,{x:t,y:i,msg:this.calcMine(t,i)})}},{key:"calcMine",value:function(t,i){for(var e=0,n=-1;n<2;n++)for(var c=-1;c<2;c++){var s=t+n,a=i+c;s>=0&&s<this.height&&a>=0&&a<this.width&&1==this.mineMap[s][a]&&e++}return e}},{key:"random",value:function(t,i){return Math.ceil(Math.random()*(i-1-t))+t}},{key:"shuffle",value:function(t){for(var i=t,e=i.length-1;e>0;e--){var n=Math.round(100*Math.random())%e,c=i[e];i[e]=i[n],i[n]=c}return i}},{key:"testMap",value:function(){var t,i=0,e=Object(g["a"])(this.mineMap);try{for(e.s();!(t=e.n()).done;){var n,c=t.value,s=Object(g["a"])(c);try{for(s.s();!(n=s.n()).done;){var a=n.value;a&&i++}}catch(r){s.e(r)}finally{s.f()}}}catch(r){e.e(r)}finally{e.f()}i!=this.mineNum?console.error(i,this.mineNum):console.log("ok")}}]),t}(),y={components:{MineBlock:d},data:function(){return{game:{},width:10,height:10,mineNum:10,gameStatus:!1}},methods:{returnNumArr:function(t){for(var i=[],e=0;e<t;e++)i.push(e);return i},newGame:function(){var t=parseInt(this.height),i=parseInt(this.width),e=parseInt(this.mineNum);if(!(t>0&&t<=30&&i>0&&i<=30&&e>0&&e<t*i))return k["a"].warn("这样不好啦"),0;this.game=new b(t,i,e),this.game.testMap(),this.gameStatus=!0,l.$emit("restart"),k["a"].info("重新开始")},clickB:function(t,i){console.log(t,i)},clickBlock:function(t,i){var e=this;if(!this.gameStatus)return{};var n=this.game.clickBlock(t,i);if(console.log("click ",t,i),l.$emit("returnBlockMsg".concat(t,"-").concat(i),n),0===n.msg)for(var c=1;c>-2;c--)for(var s=function(n){var s=t+c,a=i+n;s>=0&&s<e.height&&a>=0&&a<e.width&&setTimeout((function(){e.game.clickedBlock.has("".concat(s,"-").concat(a))||l.$emit("clickBlock".concat(s,"-").concat(a))}),2)},a=-1;a<2;a++)s(a);else"boom"==n.msg?k["a"].warn("boom!!!游戏结束了哦"):"win"==n.msg&&k["a"].success("胜利了!");this.gameStatus=!this.game.gameOver}},mounted:function(){this.game=new b(this.height,this.width,this.mineNum),this.game.testMap(),this.gameStatus=!0}},M=y,B=(e("887e"),e("6544")),w=e.n(B),x=e("8336"),O=e("62ad");e("4de4"),e("b64b"),e("2ca0"),e("20f6"),e("4b85"),e("a15b"),e("498a");function N(t){return o.a.extend({name:"v-".concat(t),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(i,e){var n=e.props,c=e.data,s=e.children;c.staticClass="".concat(t," ").concat(c.staticClass||"").trim();var a=c.attrs;if(a){c.attrs={};var r=Object.keys(a).filter((function(t){if("slot"===t)return!1;var i=a[t];return t.startsWith("data-")?(c.attrs[t]=i,!1):i||"string"===typeof i}));r.length&&(c.staticClass+=" ".concat(r.join(" ")))}return n.id&&(c.domProps=c.domProps||{},c.domProps.id=n.id),i(n.tag,c,s)}})}var S=e("d9f7"),j=N("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(t,i){var e,n=i.props,c=i.data,s=i.children,a=c.attrs;return a&&(c.attrs={},e=Object.keys(a).filter((function(t){if("slot"===t)return!1;var i=a[t];return t.startsWith("data-")?(c.attrs[t]=i,!1):i||"string"===typeof i}))),n.id&&(c.domProps=c.domProps||{},c.domProps.id=n.id),t(n.tag,Object(S["a"])(c,{staticClass:"container",class:Array({"container--fluid":n.fluid}).concat(e||[])}),s)}}),C=e("80d2"),$=Object(C["h"])("spacer","div","v-spacer"),_=e("8654"),F=Object(m["a"])(M,n,c,!1,null,"203d351c",null);i["default"]=F.exports;w()(F,{VBtn:x["a"],VCol:O["a"],VContainer:j,VSpacer:$,VTextField:_["a"]})}}]);